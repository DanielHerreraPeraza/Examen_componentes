<!doctype html>
<html lang="en-US" xmlns:th="http://www.thymeleaf.org">
<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.3.1.js"></script>

<head>
<meta charset="utf-8"></meta>
<meta http-equiv="Content-Type" content="text/html"></meta>
	<link href="../static/css/bootstrap.css" rel="stylesheet" th:href="@{/css/bootstrap.css}"/>
<title>Inventario</title>
</head>
<body>
	<div>
		<h1 class="display-4">Inventario</h1>
		<p>Bodega:
			<select id="slctWarehouse" >
				<option th:each="option:${warehouses}" th:value="${option.id}" th:text="${option.id} + ':' + ${option.name}">
				</option>
			</select>
		</p>

		<div id="replace_div">
			Content goes here
		</div>

		<button type="button" class="btn btn-outline-info ml-5">
			<svg href="/" class="bi bi-house" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 00.5.5h9a.5.5 0 00.5-.5V7h1v6.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 13.5zm11-11V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z" clip-rule="evenodd"/>
				<path fill-rule="evenodd" d="M7.293 1.5a1 1 0 011.414 0l6.647 6.646a.5.5 0 01-.708.708L8 2.207 1.354 8.854a.5.5 0 11-.708-.708L7.293 1.5z" clip-rule="evenodd"/>
			</svg>
			<a href="/">Inicio</a>
		</button>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="../static/js/bootstrap.js" th:href="@{/js/bootstrap.js}"></script>
</body>
</html>

<script>
	$(document).ready(function () {

		//call function when page is loaded
		getContent();

		//set on change listener
		$('#slctWarehouse').change(getContent);

		function getContent() {

			var url = /content/;
			let warehouseId = $('#slctWarehouse option:selected').val();

			url = 'http://localhost:3377/content?id=' + warehouseId;

			//load fragment and replace content
			$('#replace_div').load(url);
		}
	})
</script>